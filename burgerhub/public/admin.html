<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard - BurgerHub</title>
<link rel="stylesheet" href="./css/style.css" />
</head>
<body>
<header>
    <h1>ðŸ“Š Admin Dashboard</h1>
</header>
<main>
    <div id="ordersContainer"></div>
</main>
<script>
async function fetchOrders(){
    const res = await fetch("/api/orders");
    const orders = await res.json();
    const container = document.getElementById("ordersContainer");
    container.innerHTML = "";

    if(orders.length === 0){
        container.innerHTML = "<p>No orders yet.</p>";
        return;
    }

    orders.forEach(o => {
        const div = document.createElement("div");
        div.classList.add("card");
        div.innerHTML = `
            <h3>Order #${o.id}</h3>
            <p><b>User:</b> ${o.user.name} (${o.user.email})</p>
            <p><b>Address:</b> ${o.user.address}</p>
            <p><b>Payment:</b> ${o.paymentMethod}</p>
            <p><b>Total:</b> â‚¹${o.total}</p>
            <p><b>Burgers:</b> ${o.items.map(b => b.name + " Ã— " + b.quantity).join(", ") || "None"}</p>
            <p><b>Add-ons:</b> ${o.addons.map(a => a.name + " Ã— " + a.quantity).join(", ") || "None"}</p>
        `;
        container.appendChild(div);
    });
}

fetchOrders();
</script>
</body>
</html>
